"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"default",{enumerable:true,get:function(){return parseTitle}});var _unistutilvisit=_interop_require_default(require("unist-util-visit"));function _interop_require_default(obj){return obj&&obj.__esModule?obj:{default:obj}}var _inkdrop_config_defaultSettings_editor=inkdrop.config.defaultSettings.editor,defaultFontFamily=_inkdrop_config_defaultSettings_editor.fontFamily;var _inkdrop_config_settings_editor=inkdrop.config.settings.editor,customFontFamily=_inkdrop_config_settings_editor.fontFamily;var fontFamily=customFontFamily||defaultFontFamily;function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function parseTitle(){return function(tree){(0,_unistutilvisit.default)(tree,function(node){return node.type==="code"&&!node.hasCodeTitle},function(node,index,parent){var lang=node.lang;var meta=node.meta||"";var title=node.data.hProperties.title;node.data=node.data||{};node.data.hProperties=node.data.hProperties||{};if(title||title===""){node.hasCodeTitle=true;if(meta)title+=" "+meta;title=escapeHtml(title);if(title==="")title=lang;var titleNode={type:"html",value:fontFamily?'<div class="code-title" style="font-family: '.concat(fontFamily,';">').concat(title,"</div>"):'<div class="code-title">'.concat(title,"</div>")};parent.children.splice(index,0,titleNode)}})}}